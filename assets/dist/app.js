var t,e,i,n,r=!1,a=!1,o=[];function s(t){!function(t){o.includes(t)||o.push(t);a||r||(r=!0,queueMicrotask(l))}(t)}function c(t){let e=o.indexOf(t);-1!==e&&o.splice(e,1)}function l(){r=!1,a=!0;for(let t=0;t<o.length;t++)o[t]();o.length=0,a=!1}var h=!0;function u(t){e=t}var d=[],p=[],f=[];function m(t,e){"function"==typeof e?(t._x_cleanups||(t._x_cleanups=[]),t._x_cleanups.push(e)):(e=t,p.push(e))}function g(t,e){t._x_attributeCleanups&&Object.entries(t._x_attributeCleanups).forEach((([i,n])=>{(void 0===e||e.includes(i))&&(n.forEach((t=>t())),delete t._x_attributeCleanups[i])}))}var v=new MutationObserver(E),y=!1;function _(){v.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),y=!0}function b(){(w=w.concat(v.takeRecords())).length&&!x&&(x=!0,queueMicrotask((()=>{E(w),w.length=0,x=!1}))),v.disconnect(),y=!1}var w=[],x=!1;function C(t){if(!y)return t();b();let e=t();return _(),e}var M=!1,k=[];function E(t){if(M)return void(k=k.concat(t));let e=[],i=[],n=new Map,r=new Map;for(let a=0;a<t.length;a++)if(!t[a].target._x_ignoreMutationObserver&&("childList"===t[a].type&&(t[a].addedNodes.forEach((t=>1===t.nodeType&&e.push(t))),t[a].removedNodes.forEach((t=>1===t.nodeType&&i.push(t)))),"attributes"===t[a].type)){let e=t[a].target,i=t[a].attributeName,o=t[a].oldValue,s=()=>{n.has(e)||n.set(e,[]),n.get(e).push({name:i,value:e.getAttribute(i)})},c=()=>{r.has(e)||r.set(e,[]),r.get(e).push(i)};e.hasAttribute(i)&&null===o?s():e.hasAttribute(i)?(c(),s()):c()}r.forEach(((t,e)=>{g(e,t)})),n.forEach(((t,e)=>{d.forEach((i=>i(e,t)))}));for(let t of i)if(!e.includes(t)&&(p.forEach((e=>e(t))),t._x_cleanups))for(;t._x_cleanups.length;)t._x_cleanups.pop()();e.forEach((t=>{t._x_ignoreSelf=!0,t._x_ignore=!0}));for(let t of e)i.includes(t)||t.isConnected&&(delete t._x_ignoreSelf,delete t._x_ignore,f.forEach((e=>e(t))),t._x_ignore=!0,t._x_ignoreSelf=!0);e.forEach((t=>{delete t._x_ignoreSelf,delete t._x_ignore})),e=null,i=null,n=null,r=null}function O(t){return T(A(t))}function S(t,e,i){return t._x_dataStack=[e,...A(i||t)],()=>{t._x_dataStack=t._x_dataStack.filter((t=>t!==e))}}function D(t,e){let i=t._x_dataStack[0];Object.entries(e).forEach((([t,e])=>{i[t]=e}))}function A(t){return t._x_dataStack?t._x_dataStack:"function"==typeof ShadowRoot&&t instanceof ShadowRoot?A(t.host):t.parentNode?A(t.parentNode):[]}function T(t){let e=new Proxy({},{ownKeys:()=>Array.from(new Set(t.flatMap((t=>Object.keys(t))))),has:(e,i)=>t.some((t=>t.hasOwnProperty(i))),get:(i,n)=>(t.find((t=>{if(t.hasOwnProperty(n)){let i=Object.getOwnPropertyDescriptor(t,n);if(i.get&&i.get._x_alreadyBound||i.set&&i.set._x_alreadyBound)return!0;if((i.get||i.set)&&i.enumerable){let r=i.get,a=i.set,o=i;r=r&&r.bind(e),a=a&&a.bind(e),r&&(r._x_alreadyBound=!0),a&&(a._x_alreadyBound=!0),Object.defineProperty(t,n,{...o,get:r,set:a})}return!0}return!1}))||{})[n],set:(e,i,n)=>{let r=t.find((t=>t.hasOwnProperty(i)));return r?r[i]=n:t[t.length-1][i]=n,!0}});return e}function L(t){let e=(i,n="")=>{Object.entries(Object.getOwnPropertyDescriptors(i)).forEach((([r,{value:a,enumerable:o}])=>{if(!1===o||void 0===a)return;let s=""===n?r:`${n}.${r}`;var c;"object"==typeof a&&null!==a&&a._x_interceptor?i[r]=a.initialize(t,s,r):"object"!=typeof(c=a)||Array.isArray(c)||null===c||a===i||a instanceof Element||e(a,s)}))};return e(t)}function N(t,e=(()=>{})){let i={initialValue:void 0,_x_interceptor:!0,initialize(e,i,n){return t(this.initialValue,(()=>function(t,e){return e.split(".").reduce(((t,e)=>t[e]),t)}(e,i)),(t=>j(e,i,t)),i,n)}};return e(i),t=>{if("object"==typeof t&&null!==t&&t._x_interceptor){let e=i.initialize.bind(i);i.initialize=(n,r,a)=>{let o=t.initialize(n,r,a);return i.initialValue=o,e(n,r,a)}}else i.initialValue=t;return i}}function j(t,e,i){if("string"==typeof e&&(e=e.split(".")),1!==e.length){if(0===e.length)throw error;return t[e[0]]||(t[e[0]]={}),j(t[e[0]],e.slice(1),i)}t[e[0]]=i}var B={};function R(t,e){B[t]=e}function z(t,e){return Object.entries(B).forEach((([i,n])=>{Object.defineProperty(t,`$${i}`,{get(){let[t,i]=tt(e);return t={interceptor:N,...t},m(e,i),n(e,t)},enumerable:!1})})),t}function P(t,e,i,...n){try{return i(...n)}catch(i){W(i,t,e)}}function W(t,e,i){Object.assign(t,{el:e,expression:i}),console.warn(`Alpine Expression Error: ${t.message}\n\n${i?'Expression: "'+i+'"\n\n':""}`,e),setTimeout((()=>{throw t}),0)}function $(t,e,i={}){let n;return H(t,e)((t=>n=t),i),n}function H(...t){return I(...t)}var I=U;function U(t,e){let i={};z(i,t);let n=[i,...A(t)];if("function"==typeof e)return function(t,e){return(i=(()=>{}),{scope:n={},params:r=[]}={})=>{X(i,e.apply(T([n,...t]),r))}}(n,e);let r=function(t,e,i){let n=function(t,e){if(Y[t])return Y[t];let i=Object.getPrototypeOf((async function(){})).constructor,n=/^[\n\s]*if.*\(.*\)/.test(t)||/^(let|const)\s/.test(t)?`(() => { ${t} })()`:t;let r=(()=>{try{return new i(["__self","scope"],`with (scope) { __self.result = ${n} }; __self.finished = true; return __self.result;`)}catch(i){return W(i,e,t),Promise.resolve()}})();return Y[t]=r,r}(e,i);return(r=(()=>{}),{scope:a={},params:o=[]}={})=>{n.result=void 0,n.finished=!1;let s=T([a,...t]);if("function"==typeof n){let t=n(n,s).catch((t=>W(t,i,e)));n.finished?(X(r,n.result,s,o,i),n.result=void 0):t.then((t=>{X(r,t,s,o,i)})).catch((t=>W(t,i,e))).finally((()=>n.result=void 0))}}}(n,e,t);return P.bind(null,t,e,r)}var Y={};function X(t,e,i,n,r){if("function"==typeof e){let a=e.apply(i,n);a instanceof Promise?a.then((e=>X(t,e,i,n))).catch((t=>W(t,r,e))):t(a)}else t(e)}var q="x-";function F(t=""){return q+t}var V={};function K(t,e){V[t]=e}function Z(t,e,i){let n={},r=Array.from(e).map(it(((t,e)=>n[t]=e))).filter(at).map(function(t,e){return({name:i,value:n})=>{let r=i.match(ot()),a=i.match(/:([a-zA-Z0-9\-:]+)/),o=i.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],s=e||t[i]||i;return{type:r?r[1]:null,value:a?a[1]:null,modifiers:o.map((t=>t.replace(".",""))),expression:n,original:s}}}(n,i)).sort(ct);return r.map((e=>function(t,e){let i=()=>{},n=V[e.type]||i,[r,a]=tt(t);!function(t,e,i){t._x_attributeCleanups||(t._x_attributeCleanups={}),t._x_attributeCleanups[e]||(t._x_attributeCleanups[e]=[]),t._x_attributeCleanups[e].push(i)}(t,e.original,a);let o=()=>{t._x_ignore||t._x_ignoreSelf||(n.inline&&n.inline(t,e,r),n=n.bind(n,t,e,r),Q?G.get(J).push(n):n())};return o.runCleanups=a,o}(t,e)))}var Q=!1,G=new Map,J=Symbol();function tt(t){let n=[],[r,a]=function(t){let n=()=>{};return[r=>{let a=e(r);return t._x_effects||(t._x_effects=new Set,t._x_runEffects=()=>{t._x_effects.forEach((t=>t()))}),t._x_effects.add(a),n=()=>{void 0!==a&&(t._x_effects.delete(a),i(a))},a},()=>{n()}]}(t);n.push(a);return[{Alpine:Yt,effect:r,cleanup:t=>n.push(t),evaluateLater:H.bind(H,t),evaluate:$.bind($,t)},()=>n.forEach((t=>t()))]}var et=(t,e)=>({name:i,value:n})=>(i.startsWith(t)&&(i=i.replace(t,e)),{name:i,value:n});function it(t=(()=>{})){return({name:e,value:i})=>{let{name:n,value:r}=nt.reduce(((t,e)=>e(t)),{name:e,value:i});return n!==e&&t(n,e),{name:n,value:r}}}var nt=[];function rt(t){nt.push(t)}function at({name:t}){return ot().test(t)}var ot=()=>new RegExp(`^${q}([^:^.]+)\\b`);var st=["ignore","ref","data","id","bind","init","for","model","modelable","transition","show","if","DEFAULT","teleport","element"];function ct(t,e){let i=-1===st.indexOf(t.type)?"DEFAULT":t.type,n=-1===st.indexOf(e.type)?"DEFAULT":e.type;return st.indexOf(i)-st.indexOf(n)}function lt(t,e,i={}){t.dispatchEvent(new CustomEvent(e,{detail:i,bubbles:!0,composed:!0,cancelable:!0}))}var ht=[],ut=!1;function dt(t){ht.push(t),queueMicrotask((()=>{ut||setTimeout((()=>{pt()}))}))}function pt(){for(ut=!1;ht.length;)ht.shift()()}function ft(t,e){if("function"==typeof ShadowRoot&&t instanceof ShadowRoot)return void Array.from(t.children).forEach((t=>ft(t,e)));let i=!1;if(e(t,(()=>i=!0)),i)return;let n=t.firstElementChild;for(;n;)ft(n,e),n=n.nextElementSibling}function mt(t,...e){console.warn(`Alpine Warning: ${t}`,...e)}var gt=[],vt=[];function yt(){return gt.map((t=>t()))}function _t(){return gt.concat(vt).map((t=>t()))}function bt(t){gt.push(t)}function wt(t){vt.push(t)}function xt(t,e=!1){return Ct(t,(t=>{if((e?_t():yt()).some((e=>t.matches(e))))return!0}))}function Ct(t,e){if(t){if(e(t))return t;if(t._x_teleportBack&&(t=t._x_teleportBack),t.parentElement)return Ct(t.parentElement,e)}}function Mt(t,e=ft){!function(t){Q=!0;let e=Symbol();J=e,G.set(e,[]);let i=()=>{for(;G.get(e).length;)G.get(e).shift()();G.delete(e)};t(i),Q=!1,i()}((()=>{e(t,((t,e)=>{Z(t,t.attributes).forEach((t=>t())),t._x_ignore&&e()}))}))}function kt(t,e){return Array.isArray(e)?Et(t,e.join(" ")):"object"==typeof e&&null!==e?function(t,e){let i=t=>t.split(" ").filter(Boolean),n=Object.entries(e).flatMap((([t,e])=>!!e&&i(t))).filter(Boolean),r=Object.entries(e).flatMap((([t,e])=>!e&&i(t))).filter(Boolean),a=[],o=[];return r.forEach((e=>{t.classList.contains(e)&&(t.classList.remove(e),o.push(e))})),n.forEach((e=>{t.classList.contains(e)||(t.classList.add(e),a.push(e))})),()=>{o.forEach((e=>t.classList.add(e))),a.forEach((e=>t.classList.remove(e)))}}(t,e):"function"==typeof e?kt(t,e()):Et(t,e)}function Et(t,e){return e=!0===e?e="":e||"",i=e.split(" ").filter((e=>!t.classList.contains(e))).filter(Boolean),t.classList.add(...i),()=>{t.classList.remove(...i)};var i}function Ot(t,e){return"object"==typeof e&&null!==e?function(t,e){let i={};return Object.entries(e).forEach((([e,n])=>{i[e]=t.style[e],e.startsWith("--")||(e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()),t.style.setProperty(e,n)})),setTimeout((()=>{0===t.style.length&&t.removeAttribute("style")})),()=>{Ot(t,i)}}(t,e):function(t,e){let i=t.getAttribute("style",e);return t.setAttribute("style",e),()=>{t.setAttribute("style",i||"")}}(t,e)}function St(t,e=(()=>{})){let i=!1;return function(){i?e.apply(this,arguments):(i=!0,t.apply(this,arguments))}}function Dt(t,e,i={}){t._x_transition||(t._x_transition={enter:{during:i,start:i,end:i},leave:{during:i,start:i,end:i},in(i=(()=>{}),n=(()=>{})){Tt(t,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},i,n)},out(i=(()=>{}),n=(()=>{})){Tt(t,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},i,n)}})}function At(t){let e=t.parentNode;if(e)return e._x_hidePromise?e:At(e)}function Tt(t,e,{during:i,start:n,end:r}={},a=(()=>{}),o=(()=>{})){if(t._x_transitioning&&t._x_transitioning.cancel(),0===Object.keys(i).length&&0===Object.keys(n).length&&0===Object.keys(r).length)return a(),void o();let s,c,l;!function(t,e){let i,n,r,a=St((()=>{C((()=>{i=!0,n||e.before(),r||(e.end(),pt()),e.after(),t.isConnected&&e.cleanup(),delete t._x_transitioning}))}));t._x_transitioning={beforeCancels:[],beforeCancel(t){this.beforeCancels.push(t)},cancel:St((function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();a()})),finish:a},C((()=>{e.start(),e.during()})),ut=!0,requestAnimationFrame((()=>{if(i)return;let a=1e3*Number(getComputedStyle(t).transitionDuration.replace(/,.*/,"").replace("s","")),o=1e3*Number(getComputedStyle(t).transitionDelay.replace(/,.*/,"").replace("s",""));0===a&&(a=1e3*Number(getComputedStyle(t).animationDuration.replace("s",""))),C((()=>{e.before()})),n=!0,requestAnimationFrame((()=>{i||(C((()=>{e.end()})),pt(),setTimeout(t._x_transitioning.finish,a+o),r=!0)}))}))}(t,{start(){s=e(t,n)},during(){c=e(t,i)},before:a,end(){s(),l=e(t,r)},after:o,cleanup(){c(),l()}})}function Lt(t,e,i){if(-1===t.indexOf(e))return i;const n=t[t.indexOf(e)+1];if(!n)return i;if("scale"===e&&isNaN(n))return i;if("duration"===e){let t=n.match(/([0-9]+)ms/);if(t)return t[1]}return"origin"===e&&["top","right","left","center","bottom"].includes(t[t.indexOf(e)+2])?[n,t[t.indexOf(e)+2]].join(" "):n}K("transition",((t,{value:e,modifiers:i,expression:n},{evaluate:r})=>{"function"==typeof n&&(n=r(n)),n?function(t,e,i){Dt(t,kt,""),{enter:e=>{t._x_transition.enter.during=e},"enter-start":e=>{t._x_transition.enter.start=e},"enter-end":e=>{t._x_transition.enter.end=e},leave:e=>{t._x_transition.leave.during=e},"leave-start":e=>{t._x_transition.leave.start=e},"leave-end":e=>{t._x_transition.leave.end=e}}[i](e)}(t,n,e):function(t,e,i){Dt(t,Ot);let n=!e.includes("in")&&!e.includes("out")&&!i,r=n||e.includes("in")||["enter"].includes(i),a=n||e.includes("out")||["leave"].includes(i);e.includes("in")&&!n&&(e=e.filter(((t,i)=>i<e.indexOf("out"))));e.includes("out")&&!n&&(e=e.filter(((t,i)=>i>e.indexOf("out"))));let o=!e.includes("opacity")&&!e.includes("scale"),s=o||e.includes("opacity"),c=o||e.includes("scale"),l=s?0:1,h=c?Lt(e,"scale",95)/100:1,u=Lt(e,"delay",0),d=Lt(e,"origin","center"),p="opacity, transform",f=Lt(e,"duration",150)/1e3,m=Lt(e,"duration",75)/1e3,g="cubic-bezier(0.4, 0.0, 0.2, 1)";r&&(t._x_transition.enter.during={transformOrigin:d,transitionDelay:u,transitionProperty:p,transitionDuration:`${f}s`,transitionTimingFunction:g},t._x_transition.enter.start={opacity:l,transform:`scale(${h})`},t._x_transition.enter.end={opacity:1,transform:"scale(1)"});a&&(t._x_transition.leave.during={transformOrigin:d,transitionDelay:u,transitionProperty:p,transitionDuration:`${m}s`,transitionTimingFunction:g},t._x_transition.leave.start={opacity:1,transform:"scale(1)"},t._x_transition.leave.end={opacity:l,transform:`scale(${h})`})}(t,i,e)})),window.Element.prototype._x_toggleAndCascadeWithTransitions=function(t,e,i,n){let r=()=>{"visible"===document.visibilityState?requestAnimationFrame(i):setTimeout(i)};e?t._x_transition&&(t._x_transition.enter||t._x_transition.leave)?t._x_transition.enter&&(Object.entries(t._x_transition.enter.during).length||Object.entries(t._x_transition.enter.start).length||Object.entries(t._x_transition.enter.end).length)?t._x_transition.in(i):r():t._x_transition?t._x_transition.in(i):r():(t._x_hidePromise=t._x_transition?new Promise(((e,i)=>{t._x_transition.out((()=>{}),(()=>e(n))),t._x_transitioning.beforeCancel((()=>i({isFromCancelledTransition:!0})))})):Promise.resolve(n),queueMicrotask((()=>{let e=At(t);e?(e._x_hideChildren||(e._x_hideChildren=[]),e._x_hideChildren.push(t)):queueMicrotask((()=>{let e=t=>{let i=Promise.all([t._x_hidePromise,...(t._x_hideChildren||[]).map(e)]).then((([t])=>t()));return delete t._x_hidePromise,delete t._x_hideChildren,i};e(t).catch((t=>{if(!t.isFromCancelledTransition)throw t}))}))})))};var Nt=!1;function jt(t,e=(()=>{})){return(...i)=>Nt?e(...i):t(...i)}function Bt(e,i,n,r=[]){switch(e._x_bindings||(e._x_bindings=t({})),e._x_bindings[i]=n,i=r.includes("camel")?i.toLowerCase().replace(/-(\w)/g,((t,e)=>e.toUpperCase())):i){case"value":!function(t,e){if("radio"===t.type)void 0===t.attributes.value&&(t.value=e),window.fromModel&&(t.checked=Rt(t.value,e));else if("checkbox"===t.type)Number.isInteger(e)?t.value=e:Number.isInteger(e)||Array.isArray(e)||"boolean"==typeof e||[null,void 0].includes(e)?Array.isArray(e)?t.checked=e.some((e=>Rt(e,t.value))):t.checked=!!e:t.value=String(e);else if("SELECT"===t.tagName)!function(t,e){const i=[].concat(e).map((t=>t+""));Array.from(t.options).forEach((t=>{t.selected=i.includes(t.value)}))}(t,e);else{if(t.value===e)return;t.value=e}}(e,n);break;case"style":!function(t,e){t._x_undoAddedStyles&&t._x_undoAddedStyles();t._x_undoAddedStyles=Ot(t,e)}(e,n);break;case"class":!function(t,e){t._x_undoAddedClasses&&t._x_undoAddedClasses();t._x_undoAddedClasses=kt(t,e)}(e,n);break;default:!function(t,e,i){[null,void 0,!1].includes(i)&&function(t){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(t)}(e)?t.removeAttribute(e):(zt(e)&&(i=e),function(t,e,i){t.getAttribute(e)!=i&&t.setAttribute(e,i)}(t,e,i))}(e,i,n)}}function Rt(t,e){return t==e}function zt(t){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(t)}function Pt(t,e){var i;return function(){var n=this,r=arguments,a=function(){i=null,t.apply(n,r)};clearTimeout(i),i=setTimeout(a,e)}}function Wt(t,e){let i;return function(){let n=this,r=arguments;i||(t.apply(n,r),i=!0,setTimeout((()=>i=!1),e))}}var $t={},Ht=!1;var It={};var Ut={};var Yt={get reactive(){return t},get release(){return i},get effect(){return e},get raw(){return n},version:"3.9.6",flushAndStopDeferringMutations:function(){M=!1,E(k),k=[]},disableEffectScheduling:function(t){h=!1,t(),h=!0},setReactivityEngine:function(r){t=r.reactive,i=r.release,e=t=>r.effect(t,{scheduler:t=>{h?s(t):t()}}),n=r.raw},closestDataStack:A,skipDuringClone:jt,addRootSelector:bt,addInitSelector:wt,addScopeToNode:S,deferMutations:function(){M=!0},mapAttributes:rt,evaluateLater:H,setEvaluator:function(t){I=t},mergeProxies:T,findClosest:Ct,closestRoot:xt,interceptor:N,transition:Tt,setStyles:Ot,mutateDom:C,directive:K,throttle:Wt,debounce:Pt,evaluate:$,initTree:Mt,nextTick:dt,prefixed:F,prefix:function(t){q=t},plugin:function(t){t(Yt)},magic:R,store:function(e,i){if(Ht||($t=t($t),Ht=!0),void 0===i)return $t[e];$t[e]=i,"object"==typeof i&&null!==i&&i.hasOwnProperty("init")&&"function"==typeof i.init&&$t[e].init(),L($t[e])},start:function(){var t;document.body||mt("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),lt(document,"alpine:init"),lt(document,"alpine:initializing"),_(),t=t=>Mt(t,ft),f.push(t),m((t=>{ft(t,(t=>g(t)))})),function(t){d.push(t)}(((t,e)=>{Z(t,e).forEach((t=>t()))})),Array.from(document.querySelectorAll(_t())).filter((t=>!xt(t.parentElement,!0))).forEach((t=>{Mt(t)})),lt(document,"alpine:initialized")},clone:function(t,n){n._x_dataStack||(n._x_dataStack=t._x_dataStack),Nt=!0,function(t){let n=e;u(((t,e)=>{let r=n(t);return i(r),()=>{}})),t(),u(n)}((()=>{!function(t){let e=!1;Mt(t,((t,i)=>{ft(t,((t,n)=>{if(e&&function(t){return yt().some((e=>t.matches(e)))}(t))return n();e=!0,i(t,n)}))}))}(n)})),Nt=!1},bound:function(t,e,i){if(t._x_bindings&&void 0!==t._x_bindings[e])return t._x_bindings[e];let n=t.getAttribute(e);return null===n?"function"==typeof i?i():i:zt(e)?!![e,"true"].includes(n):""===n||n},$data:O,data:function(t,e){Ut[t]=e},bind:function(t,e){It[t]="function"!=typeof e?()=>e:e}};function Xt(t,e){const i=Object.create(null),n=t.split(",");for(let t=0;t<n.length;t++)i[n[t]]=!0;return e?t=>!!i[t.toLowerCase()]:t=>!!i[t]}var qt=Object.freeze({});Object.freeze([]);var Ft,Vt=Object.assign,Kt=Object.prototype.hasOwnProperty,Zt=(t,e)=>Kt.call(t,e),Qt=Array.isArray,Gt=t=>"[object Map]"===ie(t),Jt=t=>"symbol"==typeof t,te=t=>null!==t&&"object"==typeof t,ee=Object.prototype.toString,ie=t=>ee.call(t),ne=t=>ie(t).slice(8,-1),re=t=>"string"==typeof t&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,ae=(t=>{const e=Object.create(null);return i=>e[i]||(e[i]=t(i))})((t=>t.charAt(0).toUpperCase()+t.slice(1))),oe=(t,e)=>t!==e&&(t==t||e==e),se=new WeakMap,ce=[],le=Symbol("iterate"),he=Symbol("Map key iterate");var ue=0;function de(t){const{deps:e}=t;if(e.length){for(let i=0;i<e.length;i++)e[i].delete(t);e.length=0}}var pe=!0,fe=[];function me(){const t=fe.pop();pe=void 0===t||t}function ge(t,e,i){if(!pe||void 0===Ft)return;let n=se.get(t);n||se.set(t,n=new Map);let r=n.get(i);r||n.set(i,r=new Set),r.has(Ft)||(r.add(Ft),Ft.deps.push(r),Ft.options.onTrack&&Ft.options.onTrack({effect:Ft,target:t,type:e,key:i}))}function ve(t,e,i,n,r,a){const o=se.get(t);if(!o)return;const s=new Set,c=t=>{t&&t.forEach((t=>{(t!==Ft||t.allowRecurse)&&s.add(t)}))};if("clear"===e)o.forEach(c);else if("length"===i&&Qt(t))o.forEach(((t,e)=>{("length"===e||e>=n)&&c(t)}));else switch(void 0!==i&&c(o.get(i)),e){case"add":Qt(t)?re(i)&&c(o.get("length")):(c(o.get(le)),Gt(t)&&c(o.get(he)));break;case"delete":Qt(t)||(c(o.get(le)),Gt(t)&&c(o.get(he)));break;case"set":Gt(t)&&c(o.get(le))}s.forEach((o=>{o.options.onTrigger&&o.options.onTrigger({effect:o,target:t,key:i,type:e,newValue:n,oldValue:r,oldTarget:a}),o.options.scheduler?o.options.scheduler(o):o()}))}var ye=Xt("__proto__,__v_isRef,__isVue"),_e=new Set(Object.getOwnPropertyNames(Symbol).map((t=>Symbol[t])).filter(Jt)),be=ke(),we=ke(!1,!0),xe=ke(!0),Ce=ke(!0,!0),Me={};function ke(t=!1,e=!1){return function(i,n,r){if("__v_isReactive"===n)return!t;if("__v_isReadonly"===n)return t;if("__v_raw"===n&&r===(t?e?ti:Je:e?Ge:Qe).get(i))return i;const a=Qt(i);if(!t&&a&&Zt(Me,n))return Reflect.get(Me,n,r);const o=Reflect.get(i,n,r);if(Jt(n)?_e.has(n):ye(n))return o;if(t||ge(i,"get",n),e)return o;if(ai(o)){return!a||!re(n)?o.value:o}return te(o)?t?ii(o):ei(o):o}}function Ee(t=!1){return function(e,i,n,r){let a=e[i];if(!t&&(n=ri(n),a=ri(a),!Qt(e)&&ai(a)&&!ai(n)))return a.value=n,!0;const o=Qt(e)&&re(i)?Number(i)<e.length:Zt(e,i),s=Reflect.set(e,i,n,r);return e===ri(r)&&(o?oe(n,a)&&ve(e,"set",i,n,a):ve(e,"add",i,n)),s}}["includes","indexOf","lastIndexOf"].forEach((t=>{const e=Array.prototype[t];Me[t]=function(...t){const i=ri(this);for(let t=0,e=this.length;t<e;t++)ge(i,"get",t+"");const n=e.apply(i,t);return-1===n||!1===n?e.apply(i,t.map(ri)):n}})),["push","pop","shift","unshift","splice"].forEach((t=>{const e=Array.prototype[t];Me[t]=function(...t){fe.push(pe),pe=!1;const i=e.apply(this,t);return me(),i}}));var Oe={get:be,set:Ee(),deleteProperty:function(t,e){const i=Zt(t,e),n=t[e],r=Reflect.deleteProperty(t,e);return r&&i&&ve(t,"delete",e,void 0,n),r},has:function(t,e){const i=Reflect.has(t,e);return Jt(e)&&_e.has(e)||ge(t,"has",e),i},ownKeys:function(t){return ge(t,"iterate",Qt(t)?"length":le),Reflect.ownKeys(t)}},Se={get:xe,set:(t,e)=>(console.warn(`Set operation on key "${String(e)}" failed: target is readonly.`,t),!0),deleteProperty:(t,e)=>(console.warn(`Delete operation on key "${String(e)}" failed: target is readonly.`,t),!0)};Vt({},Oe,{get:we,set:Ee(!0)}),Vt({},Se,{get:Ce});var De=t=>te(t)?ei(t):t,Ae=t=>te(t)?ii(t):t,Te=t=>t,Le=t=>Reflect.getPrototypeOf(t);function Ne(t,e,i=!1,n=!1){const r=ri(t=t.__v_raw),a=ri(e);e!==a&&!i&&ge(r,"get",e),!i&&ge(r,"get",a);const{has:o}=Le(r),s=n?Te:i?Ae:De;return o.call(r,e)?s(t.get(e)):o.call(r,a)?s(t.get(a)):void(t!==r&&t.get(e))}function je(t,e=!1){const i=this.__v_raw,n=ri(i),r=ri(t);return t!==r&&!e&&ge(n,"has",t),!e&&ge(n,"has",r),t===r?i.has(t):i.has(t)||i.has(r)}function Be(t,e=!1){return t=t.__v_raw,!e&&ge(ri(t),"iterate",le),Reflect.get(t,"size",t)}function Re(t){t=ri(t);const e=ri(this);return Le(e).has.call(e,t)||(e.add(t),ve(e,"add",t,t)),this}function ze(t,e){e=ri(e);const i=ri(this),{has:n,get:r}=Le(i);let a=n.call(i,t);a?Ze(i,n,t):(t=ri(t),a=n.call(i,t));const o=r.call(i,t);return i.set(t,e),a?oe(e,o)&&ve(i,"set",t,e,o):ve(i,"add",t,e),this}function Pe(t){const e=ri(this),{has:i,get:n}=Le(e);let r=i.call(e,t);r?Ze(e,i,t):(t=ri(t),r=i.call(e,t));const a=n?n.call(e,t):void 0,o=e.delete(t);return r&&ve(e,"delete",t,void 0,a),o}function We(){const t=ri(this),e=0!==t.size,i=Gt(t)?new Map(t):new Set(t),n=t.clear();return e&&ve(t,"clear",void 0,void 0,i),n}function $e(t,e){return function(i,n){const r=this,a=r.__v_raw,o=ri(a),s=e?Te:t?Ae:De;return!t&&ge(o,"iterate",le),a.forEach(((t,e)=>i.call(n,s(t),s(e),r)))}}function He(t,e,i){return function(...n){const r=this.__v_raw,a=ri(r),o=Gt(a),s="entries"===t||t===Symbol.iterator&&o,c="keys"===t&&o,l=r[t](...n),h=i?Te:e?Ae:De;return!e&&ge(a,"iterate",c?he:le),{next(){const{value:t,done:e}=l.next();return e?{value:t,done:e}:{value:s?[h(t[0]),h(t[1])]:h(t),done:e}},[Symbol.iterator](){return this}}}}function Ie(t){return function(...e){{const i=e[0]?`on key "${e[0]}" `:"";console.warn(`${ae(t)} operation ${i}failed: target is readonly.`,ri(this))}return"delete"!==t&&this}}var Ue={get(t){return Ne(this,t)},get size(){return Be(this)},has:je,add:Re,set:ze,delete:Pe,clear:We,forEach:$e(!1,!1)},Ye={get(t){return Ne(this,t,!1,!0)},get size(){return Be(this)},has:je,add:Re,set:ze,delete:Pe,clear:We,forEach:$e(!1,!0)},Xe={get(t){return Ne(this,t,!0)},get size(){return Be(this,!0)},has(t){return je.call(this,t,!0)},add:Ie("add"),set:Ie("set"),delete:Ie("delete"),clear:Ie("clear"),forEach:$e(!0,!1)},qe={get(t){return Ne(this,t,!0,!0)},get size(){return Be(this,!0)},has(t){return je.call(this,t,!0)},add:Ie("add"),set:Ie("set"),delete:Ie("delete"),clear:Ie("clear"),forEach:$e(!0,!0)};function Fe(t,e){const i=e?t?qe:Ye:t?Xe:Ue;return(e,n,r)=>"__v_isReactive"===n?!t:"__v_isReadonly"===n?t:"__v_raw"===n?e:Reflect.get(Zt(i,n)&&n in e?i:e,n,r)}["keys","values","entries",Symbol.iterator].forEach((t=>{Ue[t]=He(t,!1,!1),Xe[t]=He(t,!0,!1),Ye[t]=He(t,!1,!0),qe[t]=He(t,!0,!0)}));var Ve={get:Fe(!1,!1)},Ke={get:Fe(!0,!1)};function Ze(t,e,i){const n=ri(i);if(n!==i&&e.call(t,n)){const e=ne(t);console.warn(`Reactive ${e} contains both the raw and reactive versions of the same object${"Map"===e?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Qe=new WeakMap,Ge=new WeakMap,Je=new WeakMap,ti=new WeakMap;function ei(t){return t&&t.__v_isReadonly?t:ni(t,!1,Oe,Ve,Qe)}function ii(t){return ni(t,!0,Se,Ke,Je)}function ni(t,e,i,n,r){if(!te(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const a=r.get(t);if(a)return a;const o=(s=t).__v_skip||!Object.isExtensible(s)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(ne(s));var s;if(0===o)return t;const c=new Proxy(t,2===o?n:i);return r.set(t,c),c}function ri(t){return t&&ri(t.__v_raw)||t}function ai(t){return Boolean(t&&!0===t.__v_isRef)}R("nextTick",(()=>dt)),R("dispatch",(t=>lt.bind(lt,t))),R("watch",((t,{evaluateLater:e,effect:i})=>(n,r)=>{let a,o=e(n),s=!0,c=i((()=>o((t=>{JSON.stringify(t),s?a=t:queueMicrotask((()=>{r(t,a),a=t})),s=!1}))));t._x_effects.delete(c)})),R("store",(function(){return $t})),R("data",(t=>O(t))),R("root",(t=>xt(t))),R("refs",(t=>(t._x_refs_proxy||(t._x_refs_proxy=T(function(t){let e=[],i=t;for(;i;)i._x_refs&&e.push(i._x_refs),i=i.parentNode;return e}(t))),t._x_refs_proxy)));var oi={};function si(t){return oi[t]||(oi[t]=0),++oi[t]}function ci(t,e,i){R(e,(e=>mt(`You can't use [$${directiveName}] without first installing the "${t}" plugin here: https://alpine.dev/plugins/${i}`,e)))}R("id",(t=>(e,i=null)=>{let n=function(t,e){return Ct(t,(t=>{if(t._x_ids&&t._x_ids[e])return!0}))}(t,e),r=n?n._x_ids[e]:si(e);return i?`${e}-${r}-${i}`:`${e}-${r}`})),R("el",(t=>t)),ci("Focus","focus","focus"),ci("Persist","persist","persist"),K("modelable",((t,{expression:e},{effect:i,evaluateLater:n})=>{let r=n(e),a=()=>{let t;return r((e=>t=e)),t},o=n(`${e} = __placeholder`),s=t=>o((()=>{}),{scope:{__placeholder:t}}),c=a();s(c),queueMicrotask((()=>{if(!t._x_model)return;t._x_removeModelListeners.default();let e=t._x_model.get,n=t._x_model.set;i((()=>s(e()))),i((()=>n(a())))}))})),K("teleport",((t,{expression:e},{cleanup:i})=>{"template"!==t.tagName.toLowerCase()&&mt("x-teleport can only be used on a <template> tag",t);let n=document.querySelector(e);n||mt(`Cannot find x-teleport element for selector: "${e}"`);let r=t.content.cloneNode(!0).firstElementChild;t._x_teleport=r,r._x_teleportBack=t,t._x_forwardEvents&&t._x_forwardEvents.forEach((e=>{r.addEventListener(e,(e=>{e.stopPropagation(),t.dispatchEvent(new e.constructor(e.type,e))}))})),S(r,{},t),C((()=>{n.appendChild(r),Mt(r),r._x_ignore=!0})),i((()=>r.remove()))}));var li=()=>{};function hi(t,e,i,n){let r=t,a=t=>n(t),o={},s=(t,e)=>i=>e(t,i);if(i.includes("dot")&&(e=e.replace(/-/g,".")),i.includes("camel")&&(e=function(t){return t.toLowerCase().replace(/-(\w)/g,((t,e)=>e.toUpperCase()))}(e)),i.includes("passive")&&(o.passive=!0),i.includes("capture")&&(o.capture=!0),i.includes("window")&&(r=window),i.includes("document")&&(r=document),i.includes("prevent")&&(a=s(a,((t,e)=>{e.preventDefault(),t(e)}))),i.includes("stop")&&(a=s(a,((t,e)=>{e.stopPropagation(),t(e)}))),i.includes("self")&&(a=s(a,((e,i)=>{i.target===t&&e(i)}))),(i.includes("away")||i.includes("outside"))&&(r=document,a=s(a,((e,i)=>{t.contains(i.target)||!1!==i.target.isConnected&&(t.offsetWidth<1&&t.offsetHeight<1||!1!==t._x_isShown&&e(i))}))),i.includes("once")&&(a=s(a,((t,i)=>{t(i),r.removeEventListener(e,a,o)}))),a=s(a,((t,n)=>{(function(t){return["keydown","keyup"].includes(t)})(e)&&function(t,e){let i=e.filter((t=>!["window","document","prevent","stop","once"].includes(t)));if(i.includes("debounce")){let t=i.indexOf("debounce");i.splice(t,ui((i[t+1]||"invalid-wait").split("ms")[0])?2:1)}if(0===i.length)return!1;if(1===i.length&&di(t.key).includes(i[0]))return!1;const n=["ctrl","shift","alt","meta","cmd","super"].filter((t=>i.includes(t)));if(i=i.filter((t=>!n.includes(t))),n.length>0){if(n.filter((e=>("cmd"!==e&&"super"!==e||(e="meta"),t[`${e}Key`]))).length===n.length&&di(t.key).includes(i[0]))return!1}return!0}(n,i)||t(n)})),i.includes("debounce")){let t=i[i.indexOf("debounce")+1]||"invalid-wait",e=ui(t.split("ms")[0])?Number(t.split("ms")[0]):250;a=Pt(a,e)}if(i.includes("throttle")){let t=i[i.indexOf("throttle")+1]||"invalid-wait",e=ui(t.split("ms")[0])?Number(t.split("ms")[0]):250;a=Wt(a,e)}return r.addEventListener(e,a,o),()=>{r.removeEventListener(e,a,o)}}function ui(t){return!Array.isArray(t)&&!isNaN(t)}function di(t){if(!t)return[];t=t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase();let e={ctrl:"control",slash:"/",space:"-",spacebar:"-",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"="};return e[t]=t,Object.keys(e).map((i=>{if(e[i]===t)return i})).filter((t=>t))}function pi(t){let e=t?parseFloat(t):null;return i=e,Array.isArray(i)||isNaN(i)?t:e;var i}function fi(t,e,i,n){let r={};if(/^\[.*\]$/.test(t.item)&&Array.isArray(e)){t.item.replace("[","").replace("]","").split(",").map((t=>t.trim())).forEach(((t,i)=>{r[t]=e[i]}))}else if(/^\{.*\}$/.test(t.item)&&!Array.isArray(e)&&"object"==typeof e){t.item.replace("{","").replace("}","").split(",").map((t=>t.trim())).forEach((t=>{r[t]=e[t]}))}else r[t.item]=e;return t.index&&(r[t.index]=i),t.collection&&(r[t.collection]=n),r}function mi(){}function gi(t,e,i){K(e,(n=>mt(`You can't use [x-${e}] without first installing the "${t}" plugin here: https://alpine.dev/plugins/${i}`,n)))}li.inline=(t,{modifiers:e},{cleanup:i})=>{e.includes("self")?t._x_ignoreSelf=!0:t._x_ignore=!0,i((()=>{e.includes("self")?delete t._x_ignoreSelf:delete t._x_ignore}))},K("ignore",li),K("effect",((t,{expression:e},{effect:i})=>i(H(t,e)))),K("model",((t,{modifiers:e,expression:i},{effect:n,cleanup:r})=>{let a=H(t,i),o=H(t,`${i} = rightSideOfExpression($event, ${i})`);var s="select"===t.tagName.toLowerCase()||["checkbox","radio"].includes(t.type)||e.includes("lazy")?"change":"input";let c=function(t,e,i){"radio"===t.type&&C((()=>{t.hasAttribute("name")||t.setAttribute("name",i)}));return(i,n)=>C((()=>{if(i instanceof CustomEvent&&void 0!==i.detail)return i.detail||i.target.value;if("checkbox"===t.type){if(Array.isArray(n)){let t=e.includes("number")?pi(i.target.value):i.target.value;return i.target.checked?n.concat([t]):n.filter((e=>!(e==t)))}return i.target.checked}if("select"===t.tagName.toLowerCase()&&t.multiple)return e.includes("number")?Array.from(i.target.selectedOptions).map((t=>pi(t.value||t.text))):Array.from(i.target.selectedOptions).map((t=>t.value||t.text));{let t=i.target.value;return e.includes("number")?pi(t):e.includes("trim")?t.trim():t}}))}(t,e,i),l=hi(t,s,e,(t=>{o((()=>{}),{scope:{$event:t,rightSideOfExpression:c}})}));t._x_removeModelListeners||(t._x_removeModelListeners={}),t._x_removeModelListeners.default=l,r((()=>t._x_removeModelListeners.default()));let h=H(t,`${i} = __placeholder`);t._x_model={get(){let t;return a((e=>t=e)),t},set(t){h((()=>{}),{scope:{__placeholder:t}})}},t._x_forceModelUpdate=()=>{a((e=>{void 0===e&&i.match(/\./)&&(e=""),window.fromModel=!0,C((()=>Bt(t,"value",e))),delete window.fromModel}))},n((()=>{e.includes("unintrusive")&&document.activeElement.isSameNode(t)||t._x_forceModelUpdate()}))})),K("cloak",(t=>queueMicrotask((()=>C((()=>t.removeAttribute(F("cloak")))))))),wt((()=>`[${F("init")}]`)),K("init",jt(((t,{expression:e},{evaluate:i})=>"string"==typeof e?!!e.trim()&&i(e,{},!1):i(e,{},!1)))),K("text",((t,{expression:e},{effect:i,evaluateLater:n})=>{let r=n(e);i((()=>{r((e=>{C((()=>{t.textContent=e}))}))}))})),K("html",((t,{expression:e},{effect:i,evaluateLater:n})=>{let r=n(e);i((()=>{r((e=>{C((()=>{t.innerHTML=e,t._x_ignoreSelf=!0,Mt(t),delete t._x_ignoreSelf}))}))}))})),rt(et(":",F("bind:"))),K("bind",((t,{value:e,modifiers:i,expression:n,original:r},{effect:a})=>{if(!e)return function(t,e,i,n){let r={};a=r,Object.entries(It).forEach((([t,e])=>{Object.defineProperty(a,t,{get:()=>(...t)=>e(...t)})}));var a;let o=H(t,e),s=[];for(;s.length;)s.pop()();o((e=>{let n=Object.entries(e).map((([t,e])=>({name:t,value:e}))),r=function(t){return Array.from(t).map(it()).filter((t=>!at(t)))}(n);n=n.map((t=>r.find((e=>e.name===t.name))?{name:`x-bind:${t.name}`,value:`"${t.value}"`}:t)),Z(t,n,i).map((t=>{s.push(t.runCleanups),t()}))}),{scope:r})}(t,n,r);if("key"===e)return function(t,e){t._x_keyExpression=e}(t,n);let o=H(t,n);a((()=>o((r=>{void 0===r&&n.match(/\./)&&(r=""),C((()=>Bt(t,e,r,i)))}))))})),bt((()=>`[${F("data")}]`)),K("data",jt(((e,{expression:i},{cleanup:n})=>{i=""===i?"{}":i;let r={};z(r,e);let a={};var o,s;o=a,s=r,Object.entries(Ut).forEach((([t,e])=>{Object.defineProperty(o,t,{get:()=>(...t)=>e.bind(s)(...t),enumerable:!1})}));let c=$(e,i,{scope:a});void 0===c&&(c={}),z(c,e);let l=t(c);L(l);let h=S(e,l);l.init&&$(e,l.init),n((()=>{l.destroy&&$(e,l.destroy),h()}))}))),K("show",((t,{modifiers:e,expression:i},{effect:n})=>{let r=H(t,i);t._x_doHide||(t._x_doHide=()=>{C((()=>t.style.display="none"))}),t._x_doShow||(t._x_doShow=()=>{C((()=>{1===t.style.length&&"none"===t.style.display?t.removeAttribute("style"):t.style.removeProperty("display")}))});let a,o=()=>{t._x_doHide(),t._x_isShown=!1},s=()=>{t._x_doShow(),t._x_isShown=!0},c=()=>setTimeout(s),l=St((t=>t?s():o()),(e=>{"function"==typeof t._x_toggleAndCascadeWithTransitions?t._x_toggleAndCascadeWithTransitions(t,e,s,o):e?c():o()})),h=!0;n((()=>r((t=>{(h||t!==a)&&(e.includes("immediate")&&(t?c():o()),l(t),a=t,h=!1)}))))})),K("for",((e,{expression:i},{effect:n,cleanup:r})=>{let a=function(t){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,i=/^\s*\(|\)\s*$/g,n=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,r=t.match(n);if(!r)return;let a={};a.items=r[2].trim();let o=r[1].replace(i,"").trim(),s=o.match(e);s?(a.item=o.replace(e,"").trim(),a.index=s[1].trim(),s[2]&&(a.collection=s[2].trim())):a.item=o;return a}(i),o=H(e,a.items),s=H(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},n((()=>function(e,i,n,r){let a=t=>"object"==typeof t&&!Array.isArray(t),o=e;n((n=>{var s;s=n,!Array.isArray(s)&&!isNaN(s)&&n>=0&&(n=Array.from(Array(n).keys(),(t=>t+1))),void 0===n&&(n=[]);let l=e._x_lookup,h=e._x_prevKeys,u=[],d=[];if(a(n))n=Object.entries(n).map((([t,e])=>{let a=fi(i,e,t,n);r((t=>d.push(t)),{scope:{index:t,...a}}),u.push(a)}));else for(let t=0;t<n.length;t++){let e=fi(i,n[t],t,n);r((t=>d.push(t)),{scope:{index:t,...e}}),u.push(e)}let p=[],f=[],m=[],g=[];for(let t=0;t<h.length;t++){let e=h[t];-1===d.indexOf(e)&&m.push(e)}h=h.filter((t=>!m.includes(t)));let v="template";for(let t=0;t<d.length;t++){let e=d[t],i=h.indexOf(e);if(-1===i)h.splice(t,0,e),p.push([v,t]);else if(i!==t){let e=h.splice(t,1)[0],n=h.splice(i-1,1)[0];h.splice(t,0,n),h.splice(i,0,e),f.push([e,n])}else g.push(e);v=e}for(let t=0;t<m.length;t++){let e=m[t];l[e]._x_effects&&l[e]._x_effects.forEach(c),l[e].remove(),l[e]=null,delete l[e]}for(let t=0;t<f.length;t++){let[e,i]=f[t],n=l[e],r=l[i],a=document.createElement("div");C((()=>{r.after(a),n.after(r),r._x_currentIfEl&&r.after(r._x_currentIfEl),a.before(n),n._x_currentIfEl&&n.after(n._x_currentIfEl),a.remove()})),D(r,u[d.indexOf(i)])}for(let e=0;e<p.length;e++){let[i,n]=p[e],r="template"===i?o:l[i];r._x_currentIfEl&&(r=r._x_currentIfEl);let a=u[n],s=d[n],c=document.importNode(o.content,!0).firstElementChild;S(c,t(a),o),C((()=>{r.after(c),Mt(c)})),"object"==typeof s&&mt("x-for key cannot be an object, it must be a string or an integer",o),l[s]=c}for(let t=0;t<g.length;t++)D(l[g[t]],u[d.indexOf(g[t])]);o._x_prevKeys=d}))}(e,a,o,s))),r((()=>{Object.values(e._x_lookup).forEach((t=>t.remove())),delete e._x_prevKeys,delete e._x_lookup}))})),mi.inline=(t,{expression:e},{cleanup:i})=>{let n=xt(t);n._x_refs||(n._x_refs={}),n._x_refs[e]=t,i((()=>delete n._x_refs[e]))},K("ref",mi),K("if",((t,{expression:e},{effect:i,cleanup:n})=>{let r=H(t,e);i((()=>r((e=>{e?(()=>{if(t._x_currentIfEl)return t._x_currentIfEl;let e=t.content.cloneNode(!0).firstElementChild;S(e,{},t),C((()=>{t.after(e),Mt(e)})),t._x_currentIfEl=e,t._x_undoIf=()=>{ft(e,(t=>{t._x_effects&&t._x_effects.forEach(c)})),e.remove(),delete t._x_currentIfEl}})():t._x_undoIf&&(t._x_undoIf(),delete t._x_undoIf)})))),n((()=>t._x_undoIf&&t._x_undoIf()))})),K("id",((t,{expression:e},{evaluate:i})=>{i(e).forEach((e=>function(t,e){t._x_ids||(t._x_ids={}),t._x_ids[e]||(t._x_ids[e]=si(e))}(t,e)))})),rt(et("@",F("on:"))),K("on",jt(((t,{value:e,modifiers:i,expression:n},{cleanup:r})=>{let a=n?H(t,n):()=>{};"template"===t.tagName.toLowerCase()&&(t._x_forwardEvents||(t._x_forwardEvents=[]),t._x_forwardEvents.includes(e)||t._x_forwardEvents.push(e));let o=hi(t,e,i,(t=>{a((()=>{}),{scope:{$event:t},params:[t]})}));r((()=>o()))}))),gi("Collapse","collapse","collapse"),gi("Intersect","intersect","intersect"),gi("Focus","trap","focus"),Yt.setEvaluator(U),Yt.setReactivityEngine({reactive:ei,effect:function(t,e=qt){(function(t){return t&&!0===t._isEffect})(t)&&(t=t.raw);const i=function(t,e){const i=function(){if(!i.active)return t();if(!ce.includes(i)){de(i);try{return fe.push(pe),pe=!0,ce.push(i),Ft=i,t()}finally{ce.pop(),me(),Ft=ce[ce.length-1]}}};return i.id=ue++,i.allowRecurse=!!e.allowRecurse,i._isEffect=!0,i.active=!0,i.raw=t,i.deps=[],i.options=e,i}(t,e);return e.lazy||i(),i},release:function(t){t.active&&(de(t),t.options.onStop&&t.options.onStop(),t.active=!1)},raw:ri});var vi=Yt,yi=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self,{exports:{}}),_i=yi.exports=function(){var t,e,i={version:"0.2.0"},n=i.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function r(t,e,i){return t<e?e:t>i?i:t}function a(t){return 100*(-1+t)}function o(t,e,i){var r;return(r="translate3d"===n.positionUsing?{transform:"translate3d("+a(t)+"%,0,0)"}:"translate"===n.positionUsing?{transform:"translate("+a(t)+"%,0)"}:{"margin-left":a(t)+"%"}).transition="all "+e+"ms "+i,r}i.configure=function(t){var e,i;for(e in t)void 0!==(i=t[e])&&t.hasOwnProperty(e)&&(n[e]=i);return this},i.status=null,i.set=function(t){var e=i.isStarted();t=r(t,n.minimum,1),i.status=1===t?null:t;var a=i.render(!e),l=a.querySelector(n.barSelector),h=n.speed,u=n.easing;return a.offsetWidth,s((function(e){""===n.positionUsing&&(n.positionUsing=i.getPositioningCSS()),c(l,o(t,h,u)),1===t?(c(a,{transition:"none",opacity:1}),a.offsetWidth,setTimeout((function(){c(a,{transition:"all "+h+"ms linear",opacity:0}),setTimeout((function(){i.remove(),e()}),h)}),h)):setTimeout(e,h)})),this},i.isStarted=function(){return"number"==typeof i.status},i.start=function(){i.status||i.set(0);var t=function(){setTimeout((function(){i.status&&(i.trickle(),t())}),n.trickleSpeed)};return n.trickle&&t(),this},i.done=function(t){return t||i.status?i.inc(.3+.5*Math.random()).set(1):this},i.inc=function(t){var e=i.status;return e?("number"!=typeof t&&(t=(1-e)*r(Math.random()*e,.1,.95)),e=r(e+t,0,.994),i.set(e)):i.start()},i.trickle=function(){return i.inc(Math.random()*n.trickleRate)},t=0,e=0,i.promise=function(n){return n&&"resolved"!==n.state()?(0===e&&i.start(),t++,e++,n.always((function(){0==--e?(t=0,i.done()):i.set((t-e)/t)})),this):this},i.render=function(t){if(i.isRendered())return document.getElementById("nprogress");h(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=n.template;var r,o=e.querySelector(n.barSelector),s=t?"-100":a(i.status||0),l=document.querySelector(n.parent);return c(o,{transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),n.showSpinner||(r=e.querySelector(n.spinnerSelector))&&p(r),l!=document.body&&h(l,"nprogress-custom-parent"),l.appendChild(e),e},i.remove=function(){u(document.documentElement,"nprogress-busy"),u(document.querySelector(n.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&p(t)},i.isRendered=function(){return!!document.getElementById("nprogress")},i.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var s=function(){var t=[];function e(){var i=t.shift();i&&i(e)}return function(i){t.push(i),1==t.length&&e()}}(),c=function(){var t=["Webkit","O","Moz","ms"],e={};function i(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(t,e){return e.toUpperCase()}))}function n(e){var i=document.body.style;if(e in i)return e;for(var n,r=t.length,a=e.charAt(0).toUpperCase()+e.slice(1);r--;)if((n=t[r]+a)in i)return n;return e}function r(t){return t=i(t),e[t]||(e[t]=n(t))}function a(t,e,i){e=r(e),t.style[e]=i}return function(t,e){var i,n,r=arguments;if(2==r.length)for(i in e)void 0!==(n=e[i])&&e.hasOwnProperty(i)&&a(t,i,n);else a(t,r[1],r[2])}}();function l(t,e){return("string"==typeof t?t:d(t)).indexOf(" "+e+" ")>=0}function h(t,e){var i=d(t),n=i+e;l(i,e)||(t.className=n.substring(1))}function u(t,e){var i,n=d(t);l(t,e)&&(i=n.replace(" "+e+" "," "),t.className=i.substring(1,i.length-1))}function d(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function p(t){t&&t.parentNode&&t.parentNode.removeChild(t)}return i}();function bi(t,e=!1){window.dispatchEvent(new CustomEvent("page:fetch")),fetch(t).then((t=>t.text())).then((i=>{let n=(new DOMParser).parseFromString(i,"text/html").querySelector("main").innerHTML;if(window.dispatchEvent(new CustomEvent("page:change")),document.querySelector("main").innerHTML=n,e)return;let r=document.location.pathname+document.location.search;window.history.replaceState({location:r},"",r),window.history.pushState({location:t},"",t)})).catch((t=>console.log(t)))}
/*!
 * Cropper.js v1.5.12
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-06-12T08:00:17.411Z
 */
function wi(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function xi(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?wi(Object(i),!0).forEach((function(e){Ei(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):wi(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Ci(t){return Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ci(t)}function Mi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ki(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ei(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Oi(t){return function(t){if(Array.isArray(t))return Si(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Si(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Si(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Si(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var Di="undefined"!=typeof window&&void 0!==window.document,Ai=Di?window:{},Ti=!(!Di||!Ai.document.documentElement)&&"ontouchstart"in Ai.document.documentElement,Li=!!Di&&"PointerEvent"in Ai,Ni="".concat("cropper","-crop"),ji="".concat("cropper","-disabled"),Bi="".concat("cropper","-hidden"),Ri="".concat("cropper","-hide"),zi="".concat("cropper","-invisible"),Pi="".concat("cropper","-modal"),Wi="".concat("cropper","-move"),$i="".concat("cropper","Action"),Hi="".concat("cropper","Preview"),Ii=Li?"pointerdown":Ti?"touchstart":"mousedown",Ui=Li?"pointermove":Ti?"touchmove":"mousemove",Yi=Li?"pointerup pointercancel":Ti?"touchend touchcancel":"mouseup",Xi=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,qi=/^data:/,Fi=/^data:image\/jpeg;base64,/,Vi=/^img|canvas$/i,Ki={viewMode:0,dragMode:"crop",initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Zi=Number.isNaN||Ai.isNaN;function Qi(t){return"number"==typeof t&&!Zi(t)}var Gi=function(t){return t>0&&t<1/0};function Ji(t){return void 0===t}function tn(t){return"object"===Ci(t)&&null!==t}var en=Object.prototype.hasOwnProperty;function nn(t){if(!tn(t))return!1;try{var e=t.constructor,i=e.prototype;return e&&i&&en.call(i,"isPrototypeOf")}catch(t){return!1}}function rn(t){return"function"==typeof t}var an=Array.prototype.slice;function on(t){return Array.from?Array.from(t):an.call(t)}function sn(t,e){return t&&rn(e)&&(Array.isArray(t)||Qi(t.length)?on(t).forEach((function(i,n){e.call(t,i,n,t)})):tn(t)&&Object.keys(t).forEach((function(i){e.call(t,t[i],i,t)}))),t}var cn=Object.assign||function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return tn(t)&&i.length>0&&i.forEach((function(e){tn(e)&&Object.keys(e).forEach((function(i){t[i]=e[i]}))})),t},ln=/\.\d*(?:0|9){12}\d*$/;function hn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return ln.test(t)?Math.round(t*e)/e:t}var un=/^width|height|left|top|marginLeft|marginTop$/;function dn(t,e){var i=t.style;sn(e,(function(t,e){un.test(e)&&Qi(t)&&(t="".concat(t,"px")),i[e]=t}))}function pn(t,e){if(e)if(Qi(t.length))sn(t,(function(t){pn(t,e)}));else if(t.classList)t.classList.add(e);else{var i=t.className.trim();i?i.indexOf(e)<0&&(t.className="".concat(i," ").concat(e)):t.className=e}}function fn(t,e){e&&(Qi(t.length)?sn(t,(function(t){fn(t,e)})):t.classList?t.classList.remove(e):t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,"")))}function mn(t,e,i){e&&(Qi(t.length)?sn(t,(function(t){mn(t,e,i)})):i?pn(t,e):fn(t,e))}var gn=/([a-z\d])([A-Z])/g;function vn(t){return t.replace(gn,"$1-$2").toLowerCase()}function yn(t,e){return tn(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(vn(e)))}function _n(t,e,i){tn(i)?t[e]=i:t.dataset?t.dataset[e]=i:t.setAttribute("data-".concat(vn(e)),i)}var bn=/\s\s*/,wn=function(){var t=!1;if(Di){var e=!1,i=function(){},n=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});Ai.addEventListener("test",i,n),Ai.removeEventListener("test",i,n)}return t}();function xn(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i;e.trim().split(bn).forEach((function(e){if(!wn){var a=t.listeners;a&&a[e]&&a[e][i]&&(r=a[e][i],delete a[e][i],0===Object.keys(a[e]).length&&delete a[e],0===Object.keys(a).length&&delete t.listeners)}t.removeEventListener(e,r,n)}))}function Cn(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i;e.trim().split(bn).forEach((function(e){if(n.once&&!wn){var a=t.listeners,o=void 0===a?{}:a;r=function(){delete o[e][i],t.removeEventListener(e,r,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];i.apply(t,s)},o[e]||(o[e]={}),o[e][i]&&t.removeEventListener(e,o[e][i],n),o[e][i]=r,t.listeners=o}t.addEventListener(e,r,n)}))}function Mn(t,e,i){var n;return rn(Event)&&rn(CustomEvent)?n=new CustomEvent(e,{detail:i,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,i),t.dispatchEvent(n)}function kn(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var En=Ai.location,On=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Sn(t){var e=t.match(On);return null!==e&&(e[1]!==En.protocol||e[2]!==En.hostname||e[3]!==En.port)}function Dn(t){var e="timestamp=".concat((new Date).getTime());return t+(-1===t.indexOf("?")?"?":"&")+e}function An(t){var e=t.rotate,i=t.scaleX,n=t.scaleY,r=t.translateX,a=t.translateY,o=[];Qi(r)&&0!==r&&o.push("translateX(".concat(r,"px)")),Qi(a)&&0!==a&&o.push("translateY(".concat(a,"px)")),Qi(e)&&0!==e&&o.push("rotate(".concat(e,"deg)")),Qi(i)&&1!==i&&o.push("scaleX(".concat(i,")")),Qi(n)&&1!==n&&o.push("scaleY(".concat(n,")"));var s=o.length?o.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function Tn(t,e){var i=t.pageX,n=t.pageY,r={endX:i,endY:n};return e?r:xi({startX:i,startY:n},r)}function Ln(t){var e=t.aspectRatio,i=t.height,n=t.width,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",a=Gi(n),o=Gi(i);if(a&&o){var s=i*e;"contain"===r&&s>n||"cover"===r&&s<n?i=n/e:n=i*e}else a?i=n/e:o&&(n=i*e);return{width:n,height:i}}function Nn(t,e,i,n){var r=e.aspectRatio,a=e.naturalWidth,o=e.naturalHeight,s=e.rotate,c=void 0===s?0:s,l=e.scaleX,h=void 0===l?1:l,u=e.scaleY,d=void 0===u?1:u,p=i.aspectRatio,f=i.naturalWidth,m=i.naturalHeight,g=n.fillColor,v=void 0===g?"transparent":g,y=n.imageSmoothingEnabled,_=void 0===y||y,b=n.imageSmoothingQuality,w=void 0===b?"low":b,x=n.maxWidth,C=void 0===x?1/0:x,M=n.maxHeight,k=void 0===M?1/0:M,E=n.minWidth,O=void 0===E?0:E,S=n.minHeight,D=void 0===S?0:S,A=document.createElement("canvas"),T=A.getContext("2d"),L=Ln({aspectRatio:p,width:C,height:k}),N=Ln({aspectRatio:p,width:O,height:D},"cover"),j=Math.min(L.width,Math.max(N.width,f)),B=Math.min(L.height,Math.max(N.height,m)),R=Ln({aspectRatio:r,width:C,height:k}),z=Ln({aspectRatio:r,width:O,height:D},"cover"),P=Math.min(R.width,Math.max(z.width,a)),W=Math.min(R.height,Math.max(z.height,o)),$=[-P/2,-W/2,P,W];return A.width=hn(j),A.height=hn(B),T.fillStyle=v,T.fillRect(0,0,j,B),T.save(),T.translate(j/2,B/2),T.rotate(c*Math.PI/180),T.scale(h,d),T.imageSmoothingEnabled=_,T.imageSmoothingQuality=w,T.drawImage.apply(T,[t].concat(Oi($.map((function(t){return Math.floor(hn(t))}))))),T.restore(),A}var jn=String.fromCharCode;var Bn=/^data:.*,/;function Rn(t){var e,i=new DataView(t);try{var n,r,a;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var o=i.byteLength,s=2;s+1<o;){if(255===i.getUint8(s)&&225===i.getUint8(s+1)){r=s;break}s+=1}if(r){var c=r+10;if("Exif"===function(t,e,i){var n="";i+=e;for(var r=e;r<i;r+=1)n+=jn(t.getUint8(r));return n}(i,r+4,4)){var l=i.getUint16(c);if(((n=18761===l)||19789===l)&&42===i.getUint16(c+2,n)){var h=i.getUint32(c+4,n);h>=8&&(a=c+h)}}}if(a){var u,d,p=i.getUint16(a,n);for(d=0;d<p;d+=1)if(u=a+12*d+2,274===i.getUint16(u,n)){u+=8,e=i.getUint16(u,n),i.setUint16(u,1,n);break}}}catch(t){e=1}return e}var zn={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,i=this.container,n=this.cropper,r=Number(e.minContainerWidth),a=Number(e.minContainerHeight);pn(n,Bi),fn(t,Bi);var o={width:Math.max(i.offsetWidth,r>=0?r:200),height:Math.max(i.offsetHeight,a>=0?a:100)};this.containerData=o,dn(n,{width:o.width,height:o.height}),pn(t,Bi),fn(n,Bi)},initCanvas:function(){var t=this.containerData,e=this.imageData,i=this.options.viewMode,n=Math.abs(e.rotate)%180==90,r=n?e.naturalHeight:e.naturalWidth,a=n?e.naturalWidth:e.naturalHeight,o=r/a,s=t.width,c=t.height;t.height*o>t.width?3===i?s=t.height*o:c=t.width/o:3===i?c=t.width/o:s=t.height*o;var l={aspectRatio:o,naturalWidth:r,naturalHeight:a,width:s,height:c};this.canvasData=l,this.limited=1===i||2===i,this.limitCanvas(!0,!0),l.width=Math.min(Math.max(l.width,l.minWidth),l.maxWidth),l.height=Math.min(Math.max(l.height,l.minHeight),l.maxHeight),l.left=(t.width-l.width)/2,l.top=(t.height-l.height)/2,l.oldLeft=l.left,l.oldTop=l.top,this.initialCanvasData=cn({},l)},limitCanvas:function(t,e){var i=this.options,n=this.containerData,r=this.canvasData,a=this.cropBoxData,o=i.viewMode,s=r.aspectRatio,c=this.cropped&&a;if(t){var l=Number(i.minCanvasWidth)||0,h=Number(i.minCanvasHeight)||0;o>1?(l=Math.max(l,n.width),h=Math.max(h,n.height),3===o&&(h*s>l?l=h*s:h=l/s)):o>0&&(l?l=Math.max(l,c?a.width:0):h?h=Math.max(h,c?a.height:0):c&&(l=a.width,(h=a.height)*s>l?l=h*s:h=l/s));var u=Ln({aspectRatio:s,width:l,height:h});l=u.width,h=u.height,r.minWidth=l,r.minHeight=h,r.maxWidth=1/0,r.maxHeight=1/0}if(e)if(o>(c?0:1)){var d=n.width-r.width,p=n.height-r.height;r.minLeft=Math.min(0,d),r.minTop=Math.min(0,p),r.maxLeft=Math.max(0,d),r.maxTop=Math.max(0,p),c&&this.limited&&(r.minLeft=Math.min(a.left,a.left+(a.width-r.width)),r.minTop=Math.min(a.top,a.top+(a.height-r.height)),r.maxLeft=a.left,r.maxTop=a.top,2===o&&(r.width>=n.width&&(r.minLeft=Math.min(0,d),r.maxLeft=Math.max(0,d)),r.height>=n.height&&(r.minTop=Math.min(0,p),r.maxTop=Math.max(0,p))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=n.width,r.maxTop=n.height},renderCanvas:function(t,e){var i=this.canvasData,n=this.imageData;if(e){var r=function(t){var e=t.width,i=t.height,n=t.degree;if(90==(n=Math.abs(n)%180))return{width:i,height:e};var r=n%90*Math.PI/180,a=Math.sin(r),o=Math.cos(r),s=e*o+i*a,c=e*a+i*o;return n>90?{width:c,height:s}:{width:s,height:c}}({width:n.naturalWidth*Math.abs(n.scaleX||1),height:n.naturalHeight*Math.abs(n.scaleY||1),degree:n.rotate||0}),a=r.width,o=r.height,s=i.width*(a/i.naturalWidth),c=i.height*(o/i.naturalHeight);i.left-=(s-i.width)/2,i.top-=(c-i.height)/2,i.width=s,i.height=c,i.aspectRatio=a/o,i.naturalWidth=a,i.naturalHeight=o,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,dn(this.canvas,cn({width:i.width,height:i.height},An({translateX:i.left,translateY:i.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,i=this.imageData,n=i.naturalWidth*(e.width/e.naturalWidth),r=i.naturalHeight*(e.height/e.naturalHeight);cn(i,{width:n,height:r,left:(e.width-n)/2,top:(e.height-r)/2}),dn(this.image,cn({width:i.width,height:i.height},An(cn({translateX:i.left,translateY:i.top},i)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,i=t.aspectRatio||t.initialAspectRatio,n=Number(t.autoCropArea)||.8,r={width:e.width,height:e.height};i&&(e.height*i>e.width?r.height=r.width/i:r.width=r.height*i),this.cropBoxData=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*n),r.height=Math.max(r.minHeight,r.height*n),r.left=e.left+(e.width-r.width)/2,r.top=e.top+(e.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBoxData=cn({},r)},limitCropBox:function(t,e){var i=this.options,n=this.containerData,r=this.canvasData,a=this.cropBoxData,o=this.limited,s=i.aspectRatio;if(t){var c=Number(i.minCropBoxWidth)||0,l=Number(i.minCropBoxHeight)||0,h=o?Math.min(n.width,r.width,r.width+r.left,n.width-r.left):n.width,u=o?Math.min(n.height,r.height,r.height+r.top,n.height-r.top):n.height;c=Math.min(c,n.width),l=Math.min(l,n.height),s&&(c&&l?l*s>c?l=c/s:c=l*s:c?l=c/s:l&&(c=l*s),u*s>h?u=h/s:h=u*s),a.minWidth=Math.min(c,h),a.minHeight=Math.min(l,u),a.maxWidth=h,a.maxHeight=u}e&&(o?(a.minLeft=Math.max(0,r.left),a.minTop=Math.max(0,r.top),a.maxLeft=Math.min(n.width,r.left+r.width)-a.width,a.maxTop=Math.min(n.height,r.top+r.height)-a.height):(a.minLeft=0,a.minTop=0,a.maxLeft=n.width-a.width,a.maxTop=n.height-a.height))},renderCropBox:function(){var t=this.options,e=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&_n(this.face,$i,i.width>=e.width&&i.height>=e.height?"move":"all"),dn(this.cropBox,cn({width:i.width,height:i.height},An({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Mn(this.element,"crop",this.getData())}},Pn={initPreview:function(){var t=this.element,e=this.crossOrigin,i=this.options.preview,n=e?this.crossOriginUrl:this.url,r=t.alt||"The image to preview",a=document.createElement("img");if(e&&(a.crossOrigin=e),a.src=n,a.alt=r,this.viewBox.appendChild(a),this.viewBoxImage=a,i){var o=i;"string"==typeof i?o=t.ownerDocument.querySelectorAll(i):i.querySelector&&(o=[i]),this.previews=o,sn(o,(function(t){var i=document.createElement("img");_n(t,Hi,{width:t.offsetWidth,height:t.offsetHeight,html:t.innerHTML}),e&&(i.crossOrigin=e),i.src=n,i.alt=r,i.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',t.innerHTML="",t.appendChild(i)}))}},resetPreview:function(){sn(this.previews,(function(t){var e=yn(t,Hi);dn(t,{width:e.width,height:e.height}),t.innerHTML=e.html,function(t,e){if(tn(t[e]))try{delete t[e]}catch(i){t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch(i){t.dataset[e]=void 0}else t.removeAttribute("data-".concat(vn(e)))}(t,Hi)}))},preview:function(){var t=this.imageData,e=this.canvasData,i=this.cropBoxData,n=i.width,r=i.height,a=t.width,o=t.height,s=i.left-e.left-t.left,c=i.top-e.top-t.top;this.cropped&&!this.disabled&&(dn(this.viewBoxImage,cn({width:a,height:o},An(cn({translateX:-s,translateY:-c},t)))),sn(this.previews,(function(e){var i=yn(e,Hi),l=i.width,h=i.height,u=l,d=h,p=1;n&&(d=r*(p=l/n)),r&&d>h&&(u=n*(p=h/r),d=h),dn(e,{width:u,height:d}),dn(e.getElementsByTagName("img")[0],cn({width:a*p,height:o*p},An(cn({translateX:-s*p,translateY:-c*p},t))))})))}},Wn={bind:function(){var t=this.element,e=this.options,i=this.cropper;rn(e.cropstart)&&Cn(t,"cropstart",e.cropstart),rn(e.cropmove)&&Cn(t,"cropmove",e.cropmove),rn(e.cropend)&&Cn(t,"cropend",e.cropend),rn(e.crop)&&Cn(t,"crop",e.crop),rn(e.zoom)&&Cn(t,"zoom",e.zoom),Cn(i,Ii,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&Cn(i,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&Cn(i,"dblclick",this.onDblclick=this.dblclick.bind(this)),Cn(t.ownerDocument,Ui,this.onCropMove=this.cropMove.bind(this)),Cn(t.ownerDocument,Yi,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&Cn(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,i=this.cropper;rn(e.cropstart)&&xn(t,"cropstart",e.cropstart),rn(e.cropmove)&&xn(t,"cropmove",e.cropmove),rn(e.cropend)&&xn(t,"cropend",e.cropend),rn(e.crop)&&xn(t,"crop",e.crop),rn(e.zoom)&&xn(t,"zoom",e.zoom),xn(i,Ii,this.onCropStart),e.zoomable&&e.zoomOnWheel&&xn(i,"wheel",this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&xn(i,"dblclick",this.onDblclick),xn(t.ownerDocument,Ui,this.onCropMove),xn(t.ownerDocument,Yi,this.onCropEnd),e.responsive&&xn(window,"resize",this.onResize)}},$n={resize:function(){if(!this.disabled){var t,e,i=this.options,n=this.container,r=this.containerData,a=n.offsetWidth/r.width,o=n.offsetHeight/r.height,s=Math.abs(a-1)>Math.abs(o-1)?a:o;if(1!==s)i.restore&&(t=this.getCanvasData(),e=this.getCropBoxData()),this.render(),i.restore&&(this.setCanvasData(sn(t,(function(e,i){t[i]=e*s}))),this.setCropBoxData(sn(e,(function(t,i){e[i]=t*s}))))}},dblclick:function(){var t,e;this.disabled||"none"===this.options.dragMode||this.setDragMode((t=this.dragBox,e=Ni,(t.classList?t.classList.contains(e):t.className.indexOf(e)>-1)?"move":"crop"))},wheel:function(t){var e=this,i=Number(this.options.wheelZoomRatio)||.1,n=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){e.wheeling=!1}),50),t.deltaY?n=t.deltaY>0?1:-1:t.wheelDelta?n=-t.wheelDelta/120:t.detail&&(n=t.detail>0?1:-1),this.zoom(-n*i,t)))},cropStart:function(t){var e=t.buttons,i=t.button;if(!(this.disabled||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(Qi(e)&&1!==e||Qi(i)&&0!==i||t.ctrlKey))){var n,r=this.options,a=this.pointers;t.changedTouches?sn(t.changedTouches,(function(t){a[t.identifier]=Tn(t)})):a[t.pointerId||0]=Tn(t),n=Object.keys(a).length>1&&r.zoomable&&r.zoomOnTouch?"zoom":yn(t.target,$i),Xi.test(n)&&!1!==Mn(this.element,"cropstart",{originalEvent:t,action:n})&&(t.preventDefault(),this.action=n,this.cropping=!1,"crop"===n&&(this.cropping=!0,pn(this.dragBox,Pi)))}},cropMove:function(t){var e=this.action;if(!this.disabled&&e){var i=this.pointers;t.preventDefault(),!1!==Mn(this.element,"cropmove",{originalEvent:t,action:e})&&(t.changedTouches?sn(t.changedTouches,(function(t){cn(i[t.identifier]||{},Tn(t,!0))})):cn(i[t.pointerId||0]||{},Tn(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,i=this.pointers;t.changedTouches?sn(t.changedTouches,(function(t){delete i[t.identifier]})):delete i[t.pointerId||0],e&&(t.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,mn(this.dragBox,Pi,this.cropped&&this.options.modal)),Mn(this.element,"cropend",{originalEvent:t,action:e}))}}},Hn={change:function(t){var e,i=this.options,n=this.canvasData,r=this.containerData,a=this.cropBoxData,o=this.pointers,s=this.action,c=i.aspectRatio,l=a.left,h=a.top,u=a.width,d=a.height,p=l+u,f=h+d,m=0,g=0,v=r.width,y=r.height,_=!0;!c&&t.shiftKey&&(c=u&&d?u/d:1),this.limited&&(m=a.minLeft,g=a.minTop,v=m+Math.min(r.width,n.width,n.left+n.width),y=g+Math.min(r.height,n.height,n.top+n.height));var b=o[Object.keys(o)[0]],w={x:b.endX-b.startX,y:b.endY-b.startY},x=function(t){switch(t){case"e":p+w.x>v&&(w.x=v-p);break;case"w":l+w.x<m&&(w.x=m-l);break;case"n":h+w.y<g&&(w.y=g-h);break;case"s":f+w.y>y&&(w.y=y-f)}};switch(s){case"all":l+=w.x,h+=w.y;break;case"e":if(w.x>=0&&(p>=v||c&&(h<=g||f>=y))){_=!1;break}x("e"),(u+=w.x)<0&&(s="w",l-=u=-u),c&&(d=u/c,h+=(a.height-d)/2);break;case"n":if(w.y<=0&&(h<=g||c&&(l<=m||p>=v))){_=!1;break}x("n"),d-=w.y,h+=w.y,d<0&&(s="s",h-=d=-d),c&&(u=d*c,l+=(a.width-u)/2);break;case"w":if(w.x<=0&&(l<=m||c&&(h<=g||f>=y))){_=!1;break}x("w"),u-=w.x,l+=w.x,u<0&&(s="e",l-=u=-u),c&&(d=u/c,h+=(a.height-d)/2);break;case"s":if(w.y>=0&&(f>=y||c&&(l<=m||p>=v))){_=!1;break}x("s"),(d+=w.y)<0&&(s="n",h-=d=-d),c&&(u=d*c,l+=(a.width-u)/2);break;case"ne":if(c){if(w.y<=0&&(h<=g||p>=v)){_=!1;break}x("n"),d-=w.y,h+=w.y,u=d*c}else x("n"),x("e"),w.x>=0?p<v?u+=w.x:w.y<=0&&h<=g&&(_=!1):u+=w.x,w.y<=0?h>g&&(d-=w.y,h+=w.y):(d-=w.y,h+=w.y);u<0&&d<0?(s="sw",h-=d=-d,l-=u=-u):u<0?(s="nw",l-=u=-u):d<0&&(s="se",h-=d=-d);break;case"nw":if(c){if(w.y<=0&&(h<=g||l<=m)){_=!1;break}x("n"),d-=w.y,h+=w.y,u=d*c,l+=a.width-u}else x("n"),x("w"),w.x<=0?l>m?(u-=w.x,l+=w.x):w.y<=0&&h<=g&&(_=!1):(u-=w.x,l+=w.x),w.y<=0?h>g&&(d-=w.y,h+=w.y):(d-=w.y,h+=w.y);u<0&&d<0?(s="se",h-=d=-d,l-=u=-u):u<0?(s="ne",l-=u=-u):d<0&&(s="sw",h-=d=-d);break;case"sw":if(c){if(w.x<=0&&(l<=m||f>=y)){_=!1;break}x("w"),u-=w.x,l+=w.x,d=u/c}else x("s"),x("w"),w.x<=0?l>m?(u-=w.x,l+=w.x):w.y>=0&&f>=y&&(_=!1):(u-=w.x,l+=w.x),w.y>=0?f<y&&(d+=w.y):d+=w.y;u<0&&d<0?(s="ne",h-=d=-d,l-=u=-u):u<0?(s="se",l-=u=-u):d<0&&(s="nw",h-=d=-d);break;case"se":if(c){if(w.x>=0&&(p>=v||f>=y)){_=!1;break}x("e"),d=(u+=w.x)/c}else x("s"),x("e"),w.x>=0?p<v?u+=w.x:w.y>=0&&f>=y&&(_=!1):u+=w.x,w.y>=0?f<y&&(d+=w.y):d+=w.y;u<0&&d<0?(s="nw",h-=d=-d,l-=u=-u):u<0?(s="sw",l-=u=-u):d<0&&(s="ne",h-=d=-d);break;case"move":this.move(w.x,w.y),_=!1;break;case"zoom":this.zoom(function(t){var e=xi({},t),i=0;return sn(t,(function(t,n){delete e[n],sn(e,(function(e){var n=Math.abs(t.startX-e.startX),r=Math.abs(t.startY-e.startY),a=Math.abs(t.endX-e.endX),o=Math.abs(t.endY-e.endY),s=Math.sqrt(n*n+r*r),c=(Math.sqrt(a*a+o*o)-s)/s;Math.abs(c)>Math.abs(i)&&(i=c)}))})),i}(o),t),_=!1;break;case"crop":if(!w.x||!w.y){_=!1;break}e=kn(this.cropper),l=b.startX-e.left,h=b.startY-e.top,u=a.minWidth,d=a.minHeight,w.x>0?s=w.y>0?"se":"ne":w.x<0&&(l-=u,s=w.y>0?"sw":"nw"),w.y<0&&(h-=d),this.cropped||(fn(this.cropBox,Bi),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}_&&(a.width=u,a.height=d,a.left=l,a.top=h,this.action=s,this.renderCropBox()),sn(o,(function(t){t.startX=t.endX,t.startY=t.endY}))}},In={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&pn(this.dragBox,Pi),fn(this.cropBox,Bi),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=cn({},this.initialImageData),this.canvasData=cn({},this.initialCanvasData),this.cropBoxData=cn({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(cn(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),fn(this.dragBox,Pi),pn(this.cropBox,Bi)),this},replace:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,sn(this.previews,(function(e){e.getElementsByTagName("img")[0].src=t})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,fn(this.cropper,ji)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,pn(this.cropper,ji)),this},destroy:function(){var t=this.element;return t.cropper?(t.cropper=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,n=i.left,r=i.top;return this.moveTo(Ji(t)?t:n+Number(t),Ji(e)?e:r+Number(e))},moveTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,n=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(Qi(t)&&(i.left=t,n=!0),Qi(e)&&(i.top=e,n=!0),n&&this.renderCanvas(!0)),this},zoom:function(t,e){var i=this.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(i.width*t/i.naturalWidth,null,e)},zoomTo:function(t,e,i){var n=this.options,r=this.canvasData,a=r.width,o=r.height,s=r.naturalWidth,c=r.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&n.zoomable){var l=s*t,h=c*t;if(!1===Mn(this.element,"zoom",{ratio:t,oldRatio:a/s,originalEvent:i}))return this;if(i){var u=this.pointers,d=kn(this.cropper),p=u&&Object.keys(u).length?function(t){var e=0,i=0,n=0;return sn(t,(function(t){var r=t.startX,a=t.startY;e+=r,i+=a,n+=1})),{pageX:e/=n,pageY:i/=n}}(u):{pageX:i.pageX,pageY:i.pageY};r.left-=(l-a)*((p.pageX-d.left-r.left)/a),r.top-=(h-o)*((p.pageY-d.top-r.top)/o)}else nn(e)&&Qi(e.x)&&Qi(e.y)?(r.left-=(l-a)*((e.x-r.left)/a),r.top-=(h-o)*((e.y-r.top)/o)):(r.left-=(l-a)/2,r.top-=(h-o)/2);r.width=l,r.height=h,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return Qi(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,Qi(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(Qi(e)?e:1,t)},scale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.imageData,n=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(Qi(t)&&(i.scaleX=t,n=!0),Qi(e)&&(i.scaleY=e,n=!0),n&&this.renderCanvas(!0,!0)),this},getData:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.options,n=this.imageData,r=this.canvasData,a=this.cropBoxData;if(this.ready&&this.cropped){t={x:a.left-r.left,y:a.top-r.top,width:a.width,height:a.height};var o=n.width/n.naturalWidth;if(sn(t,(function(e,i){t[i]=e/o})),e){var s=Math.round(t.y+t.height),c=Math.round(t.x+t.width);t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=c-t.x,t.height=s-t.y}}else t={x:0,y:0,width:0,height:0};return i.rotatable&&(t.rotate=n.rotate||0),i.scalable&&(t.scaleX=n.scaleX||1,t.scaleY=n.scaleY||1),t},setData:function(t){var e=this.options,i=this.imageData,n=this.canvasData,r={};if(this.ready&&!this.disabled&&nn(t)){var a=!1;e.rotatable&&Qi(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,a=!0),e.scalable&&(Qi(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,a=!0),Qi(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,a=!0)),a&&this.renderCanvas(!0,!0);var o=i.width/i.naturalWidth;Qi(t.x)&&(r.left=t.x*o+n.left),Qi(t.y)&&(r.top=t.y*o+n.top),Qi(t.width)&&(r.width=t.width*o),Qi(t.height)&&(r.height=t.height*o),this.setCropBoxData(r)}return this},getContainerData:function(){return this.ready?cn({},this.containerData):{}},getImageData:function(){return this.sized?cn({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,e={};return this.ready&&sn(["left","top","width","height","naturalWidth","naturalHeight"],(function(i){e[i]=t[i]})),e},setCanvasData:function(t){var e=this.canvasData,i=e.aspectRatio;return this.ready&&!this.disabled&&nn(t)&&(Qi(t.left)&&(e.left=t.left),Qi(t.top)&&(e.top=t.top),Qi(t.width)?(e.width=t.width,e.height=t.width/i):Qi(t.height)&&(e.height=t.height,e.width=t.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var t,e=this.cropBoxData;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(t){var e,i,n=this.cropBoxData,r=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&nn(t)&&(Qi(t.left)&&(n.left=t.left),Qi(t.top)&&(n.top=t.top),Qi(t.width)&&t.width!==n.width&&(e=!0,n.width=t.width),Qi(t.height)&&t.height!==n.height&&(i=!0,n.height=t.height),r&&(e?n.height=n.width/r:i&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e=this.canvasData,i=Nn(this.image,this.imageData,e,t);if(!this.cropped)return i;var n=this.getData(),r=n.x,a=n.y,o=n.width,s=n.height,c=i.width/Math.floor(e.naturalWidth);1!==c&&(r*=c,a*=c,o*=c,s*=c);var l=o/s,h=Ln({aspectRatio:l,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),u=Ln({aspectRatio:l,width:t.minWidth||0,height:t.minHeight||0},"cover"),d=Ln({aspectRatio:l,width:t.width||(1!==c?i.width:o),height:t.height||(1!==c?i.height:s)}),p=d.width,f=d.height;p=Math.min(h.width,Math.max(u.width,p)),f=Math.min(h.height,Math.max(u.height,f));var m=document.createElement("canvas"),g=m.getContext("2d");m.width=hn(p),m.height=hn(f),g.fillStyle=t.fillColor||"transparent",g.fillRect(0,0,p,f);var v=t.imageSmoothingEnabled,y=void 0===v||v,_=t.imageSmoothingQuality;g.imageSmoothingEnabled=y,_&&(g.imageSmoothingQuality=_);var b,w,x,C,M,k,E=i.width,O=i.height,S=r,D=a;S<=-o||S>E?(S=0,b=0,x=0,M=0):S<=0?(x=-S,S=0,M=b=Math.min(E,o+S)):S<=E&&(x=0,M=b=Math.min(o,E-S)),b<=0||D<=-s||D>O?(D=0,w=0,C=0,k=0):D<=0?(C=-D,D=0,k=w=Math.min(O,s+D)):D<=O&&(C=0,k=w=Math.min(s,O-D));var A=[S,D,b,w];if(M>0&&k>0){var T=p/o;A.push(x*T,C*T,M*T,k*T)}return g.drawImage.apply(g,[i].concat(Oi(A.map((function(t){return Math.floor(hn(t))}))))),m},setAspectRatio:function(t){var e=this.options;return this.disabled||Ji(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var e=this.options,i=this.dragBox,n=this.face;if(this.ready&&!this.disabled){var r="crop"===t,a=e.movable&&"move"===t;t=r||a?t:"none",e.dragMode=t,_n(i,$i,t),mn(i,Ni,r),mn(i,Wi,a),e.cropBoxMovable||(_n(n,$i,t),mn(n,Ni,r),mn(n,Wi,a))}return this}},Un=Ai.Cropper,Yn=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Mi(this,t),!e||!Vi.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=cn({},Ki,nn(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var e,i,n;return e=t,i=[{key:"init",value:function(){var t,e=this.element,i=e.tagName.toLowerCase();if(!e.cropper){if(e.cropper=this,"img"===i){if(this.isImg=!0,t=e.getAttribute("src")||"",this.originalUrl=t,!t)return;t=e.src}else"canvas"===i&&window.HTMLCanvasElement&&(t=e.toDataURL());this.load(t)}}},{key:"load",value:function(t){var e=this;if(t){this.url=t,this.imageData={};var i=this.element,n=this.options;if(n.rotatable||n.scalable||(n.checkOrientation=!1),n.checkOrientation&&window.ArrayBuffer)if(qi.test(t))Fi.test(t)?this.read((r=t.replace(Bn,""),a=atob(r),o=new ArrayBuffer(a.length),sn(s=new Uint8Array(o),(function(t,e){s[e]=a.charCodeAt(e)})),o)):this.clone();else{var r,a,o,s,c=new XMLHttpRequest,l=this.clone.bind(this);this.reloading=!0,this.xhr=c,c.onabort=l,c.onerror=l,c.ontimeout=l,c.onprogress=function(){"image/jpeg"!==c.getResponseHeader("content-type")&&c.abort()},c.onload=function(){e.read(c.response)},c.onloadend=function(){e.reloading=!1,e.xhr=null},n.checkCrossOrigin&&Sn(t)&&i.crossOrigin&&(t=Dn(t)),c.open("GET",t,!0),c.responseType="arraybuffer",c.withCredentials="use-credentials"===i.crossOrigin,c.send()}else this.clone()}}},{key:"read",value:function(t){var e=this.options,i=this.imageData,n=Rn(t),r=0,a=1,o=1;if(n>1){this.url=function(t,e){for(var i=[],n=new Uint8Array(t);n.length>0;)i.push(jn.apply(null,on(n.subarray(0,8192)))),n=n.subarray(8192);return"data:".concat(e,";base64,").concat(btoa(i.join("")))}(t,"image/jpeg");var s=function(t){var e=0,i=1,n=1;switch(t){case 2:i=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,i=-1;break;case 8:e=-90}return{rotate:e,scaleX:i,scaleY:n}}(n);r=s.rotate,a=s.scaleX,o=s.scaleY}e.rotatable&&(i.rotate=r),e.scalable&&(i.scaleX=a,i.scaleY=o),this.clone()}},{key:"clone",value:function(){var t=this.element,e=this.url,i=t.crossOrigin,n=e;this.options.checkCrossOrigin&&Sn(e)&&(i||(i="anonymous"),n=Dn(e)),this.crossOrigin=i,this.crossOriginUrl=n;var r=document.createElement("img");i&&(r.crossOrigin=i),r.src=n||e,r.alt=t.alt||"The image to crop",this.image=r,r.onload=this.start.bind(this),r.onerror=this.stop.bind(this),pn(r,Ri),t.parentNode.insertBefore(r,t.nextSibling)}},{key:"start",value:function(){var t=this,e=this.image;e.onload=null,e.onerror=null,this.sizing=!0;var i=Ai.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Ai.navigator.userAgent),n=function(e,i){cn(t.imageData,{naturalWidth:e,naturalHeight:i,aspectRatio:e/i}),t.initialImageData=cn({},t.imageData),t.sizing=!1,t.sized=!0,t.build()};if(!e.naturalWidth||i){var r=document.createElement("img"),a=document.body||document.documentElement;this.sizingImage=r,r.onload=function(){n(r.width,r.height),i||a.removeChild(r)},r.src=e.src,i||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",a.appendChild(r))}else n(e.naturalWidth,e.naturalHeight)}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var t=this.element,e=this.options,i=this.image,n=t.parentNode,r=document.createElement("div");r.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var a=r.querySelector(".".concat("cropper","-container")),o=a.querySelector(".".concat("cropper","-canvas")),s=a.querySelector(".".concat("cropper","-drag-box")),c=a.querySelector(".".concat("cropper","-crop-box")),l=c.querySelector(".".concat("cropper","-face"));this.container=n,this.cropper=a,this.canvas=o,this.dragBox=s,this.cropBox=c,this.viewBox=a.querySelector(".".concat("cropper","-view-box")),this.face=l,o.appendChild(i),pn(t,Bi),n.insertBefore(a,t.nextSibling),this.isImg||fn(i,Ri),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,pn(c,Bi),e.guides||pn(c.getElementsByClassName("".concat("cropper","-dashed")),Bi),e.center||pn(c.getElementsByClassName("".concat("cropper","-center")),Bi),e.background&&pn(a,"".concat("cropper","-bg")),e.highlight||pn(l,zi),e.cropBoxMovable&&(pn(l,Wi),_n(l,$i,"all")),e.cropBoxResizable||(pn(c.getElementsByClassName("".concat("cropper","-line")),Bi),pn(c.getElementsByClassName("".concat("cropper","-point")),Bi)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),rn(e.ready)&&Cn(t,"ready",e.ready,{once:!0}),Mn(t,"ready")}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),fn(this.element,Bi))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],n=[{key:"noConflict",value:function(){return window.Cropper=Un,t}},{key:"setDefaults",value:function(t){cn(Ki,nn(t)&&t)}}],i&&ki(e.prototype,i),n&&ki(e,n),t}();cn(Yn.prototype,zn,Pn,Wn,$n,Hn,In),_i.configure({showSpinner:!1}),window.addEventListener("page:fetch",(()=>_i.start())),window.addEventListener("page:change",(()=>_i.done())),window.Alpine=vi,vi.data("responsivePage",(function(){return window.onpopstate=t=>bi(t.state.location,!0),{navigate:bi}})),vi.data("manageAlert",(function(){return{show:!1,show_styles:!1,title:"",content:"",callback:()=>{},showAlert(t){this.show_styles=!0,this.title=t.detail.title,this.content=t.detail.content,this.callback=t.detail.callback,window.setTimeout((()=>{this.show=!0}),100)},clearAlert(){this.show=!1,window.setTimeout((()=>{this.show_styles=!1,this.title="",this.content=""}),100)},cancelAlert(){this.clearAlert()},confirmAlert(){this.clearAlert(),this.callback()}}})),vi.data("movableGrid",(function({_csrf:t,path:e}){return{current:null,current_name:"",current_over:null,dragging:!1,type:"",path:e,_csrf:t,setCurrent(t){this.current=t},isOver(t){return this.dragging&&this.current!==t&&this.current_over===t},handleMove(){if(this.current===this.current_over)return;let t=new URLSearchParams;"folder"===this.type&&(t.append("name",this.current_name),t.append("move",this.current_over),t.append("id",this.current),t.append("_csrf",this._csrf),fetch("/library/folder",{method:"PUT",body:t}).then((t=>{t.ok&&bi(`/library?path=/${this.path}`)}))),"image"===this.type&&(t.append("name",this.current_name),t.append("move",this.current_over),t.append("id",this.current),t.append("_csrf",this._csrf),fetch("/library/image",{method:"PUT",body:t}).then((t=>{t.ok&&bi(`/library?path=/${this.path}`)})))},deleteImage(e){this.$dispatch("alert",{title:"Delete image",content:"Are you sure you want to delete this image ?",callback:()=>{let i=new URLSearchParams;i.append("_csrf",t),i.append("id",e),fetch("/library/image",{method:"DELETE",body:i}).then((t=>{t.ok&&bi(`/library?path=/${this.path}`)}))}})}}})),vi.data("addFolderForm",(function({path:t}){return{error:"",nameValid:null,path:t,validateName(t){if(0===t.target.value.length)return this.error="",void(this.nameValid=null);new RegExp(/[^\w]|\s/g).test(t.target.value)?(this.error="Name must match alphanumeric chars and no whitespace",this.nameValid=!1):(this.error="",this.nameValid=!0)},submit(t){let e=new URLSearchParams(new FormData(t.target));fetch("/library/folder",{method:"POST",body:e}).then((t=>{t.ok?bi(`/library?path=${this.path}`):t.json().then((t=>{this.error=t.error}))}))}}})),vi.data("modifyFolderForm",(function({back:t,_csrf:e,parent_id:i,defautl_name:n}){return{nameValid:null,error:"",back:t,moved:!1,_csrf:e,parent_id:i,defautl_name:n,validateName(t){if(0===t.target.value.length||t.target.value===n)return this.error="",void(this.nameValid=null);new RegExp(/[^\w]|\s/g).test(t.target.value)?(this.error="Name must match alphanumeric chars and no whitespace",this.nameValid=!1):(this.error="",this.nameValid=!0)},submit(t){let e=new URLSearchParams(new FormData(t.target));fetch("/library/folder",{method:"PUT",body:e}).then((t=>{t.ok?bi(`/library?path=/${this.back}`):t.json().then((t=>{this.error=t.error}))})).catch((t=>console.log(t)))},deleteFolder(t){this.$dispatch("alert",{title:"Delete folder",content:"Are you sure you want to delete this folder along with its content (images and sub-folders) ?",callback:()=>{let i=new URLSearchParams;i.append("_csrf",e),i.append("id",t),fetch("/library/folder",{method:"DELETE",body:i}).then((t=>{t.ok&&bi(`/library?path=/${this.back}`)})).catch((t=>console.log(t)))}})}}})),vi.data("addImageForm",(function({path:t,_csrf:e}){return{imageData:"",error:"",path:t,_csrf:e,fileChosen(t){this.fileToDataUrl(t,(t=>this.imageData=t))},fileToDataUrl(t,e){if(!t.target.files.length)return;let i=t.target.files[0],n=new FileReader;n.readAsDataURL(i),n.onload=t=>e(t.target.result)},submit(t){let e=new FormData(t.target);fetch(`/library/image?path=${this.path}`,{method:"POST",headers:{"csrf-token":this._csrf},body:e}).then((t=>{t.ok?bi(`/library?path=${this.path}`):t.json().then((t=>{this.error=t.error}))}))}}})),vi.data("modifyImageForm",(function({back:t,_csrf:e,cropper_src:i,ratio:n,resize_height:r,resize_width:a}){return{back:t,_csrf:e,cropper_src:i,moved:!1,renamed:!1,error:"",cropper_show:!1,cropper:null,image_blob:null,image_preview:"",resize_show:!1,resize_height:r,resize_width:a,ratio:n,showCropper(){this.cropper=new Yn(this.$refs.cropper,{viewMode:1});const{height:t,width:e}=this.cropper.getImageData();this.cropper.setCropBoxData({top:0,left:0,width:e,height:t})},cropImage(){this.cropper.getCroppedCanvas().toBlob((t=>{this.image_blob=t;let e=new FileReader;e.readAsDataURL(t),e.onload=t=>{this.image_preview=t.target.result,this.cropper.destroy(),this.cropper=null,this.cropper_show=!1}}),"image/jpeg",.9)},fitImage(){const{height:t,width:e}=this.cropper.getImageData();this.cropper.setCropBoxData({top:0,left:0,width:e,height:t})},submit(t){let e=new FormData(t.target);this.image_blob?e.append("image",this.image_blob):e=new URLSearchParams(e),fetch("/library/image"+(this.image_blob?"/crop":this.resize_show?"/resize":""),{method:"PUT",headers:{"csrf-token":this._csrf},body:e}).then((t=>{t.ok?bi(`/library?path=${this.back}`):t.json().then((t=>{this.error=t.error,window.setInterval((()=>{this.error=""}),5e3)}))})).catch((t=>console.log(t)))}}})),vi.start();
